# analyze-dialogues

使用 Cursor 的 AI 能力自动分析对话记录并生成每日总结。

**无需配置 API Key！** 直接使用 Cursor 本身的 AI 能力。

## 快速使用

在 Cursor 中输入以下任一命令：

- `@analyze-dialogues today` - 分析今天的对话
- `@analyze-dialogues 2026-01-23` - 分析指定日期
- `@analyze-dialogues yesterday` - 分析昨天的对话

或者直接告诉我：

- "帮我分析今天的对话并生成总结"
- "分析 2026-01-23 的对话"
- "使用 Cursor AI 分析昨天的对话"

## 详细说明

### Step 1: 获取对话数据

首先运行脚本获取对话数据：

```bash
node scripts/analyze-with-cursor.js 2026-01-23
```

或者直接告诉我日期，我会帮你获取。

### Step 2: 使用 Cursor AI 分析

获取对话后，请使用 Cursor 的 AI 能力分析这些对话，并按照以下格式生成总结：

```markdown
# {日期} 对话总结

## 📊 概览
- 对话总数: {总数}
- 用户消息: {用户消息数}
- AI回复: {AI回复数}

## 🎯 主要话题

{列出今天讨论的主要话题，每个话题一行，简洁明了}

## 💡 知识点总结

### 1. {知识点标题}
{详细说明和内容}

### 2. {知识点标题}
{详细说明和内容}

{继续列出其他重要知识点}

## 🔍 关键洞察

{总结今天对话中的关键洞察、学习重点和建议}
```

### Step 3: 保存总结

生成总结后，告诉我保存，我会帮你保存到文件。

或者使用以下命令：

```bash
# 在 Node.js 中
const { saveSummary } = require('./scripts/analyze-with-cursor.js');
await saveSummary('2026-01-23', '生成的总结内容');
```

## 分析要求

1. **提取主要话题**：从用户的问题中识别主要讨论的技术主题和问题
2. **提取知识点**：从 AI 的回复中提取重要的技术知识点、代码示例、最佳实践等
3. **生成洞察**：总结对话中的关键学习点、模式和建议
4. **格式要求**：使用 Markdown 格式，保持清晰易读
5. **语言要求**：使用中文生成总结
6. **内容要求**：不要包含时间戳和用户标识，只关注内容本身

## 示例工作流

用户：`@analyze-dialogues today`

你应该：
1. 获取今天的日期（例如：2026-01-23）
2. 从后端 API 获取对话：`http://localhost:3001/api/dialogues/2026-01-23`
3. 分析对话内容，提取话题、知识点和洞察
4. 生成结构化的 Markdown 总结
5. 保存总结到 `backend/data/summaries/2026-01-23.md`

## 注意事项

- 确保后端服务正在运行（http://localhost:3001）
- 如果指定日期没有对话，提示用户
- 生成的总结应该是有价值的、结构化的内容
- 重点关注技术知识点和学习价值
